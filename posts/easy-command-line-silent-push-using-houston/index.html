<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="alasda.ir"/><link rel="canonical" href="https://alasda.ir/posts/easy-command-line-silent-push-using-houston"/><meta name="twitter:url" content="https://alasda.ir/posts/easy-command-line-silent-push-using-houston"/><meta name="og:url" content="https://alasda.ir/posts/easy-command-line-silent-push-using-houston"/><title>easy-command-line-silent-push-using-houston | alasda.ir</title><meta name="twitter:title" content="easy-command-line-silent-push-using-houston | alasda.ir"/><meta name="og:title" content="easy-command-line-silent-push-using-houston | alasda.ir"/><meta name="description" content="Easy Command Line Silent Push using Houston"/><meta name="twitter:description" content="Easy Command Line Silent Push using Houston"/><meta name="og:description" content="Easy Command Line Silent Push using Houston"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to alasda.ir"/><meta name="twitter:image" content="https://alasda.ir/images/profile.png"/><meta name="og:image" content="https://alasda.ir/images/profile.png"/></head><body class="item-page"><header><div class="wrapper"><a href="/" class="site-name">Alasdair McCall</a></div></header><div class="wrapper"><article><div class="content"><p>Here is a quick command line to tool to send silent background push notifications to your iOS applications.</p><h3>Houston</h3><p>In a pre-<a href="https://fastlane.tools/">Fastlane</a> world, we had the brilliant and prolific <a href="https://twitter.com/mattt?lang=en">@mattt</a> to thank for the wonderful <a href="https://nomad-cli.com/">Nomad-CLI</a>. A small and powerful set of tools to make life just a little easier for us Apple developers.</p><p>One of them, <a href="https://github.com/nomad/houston">Houston</a> allows for easy communication with Apple’s PN.</p><p>To install</p><p><code>gem install houston</code></p><p>and test</p><p><code>apn push "&lt;token&gt;" -c /path/to/apple_push_notification.pem -m "Test" </code></p><h3>Silent pushes</h3><p>A silent push is used to wake an application and get it to do small chunks of work. These pushes are not guaranteed to be sent or received by device. In the worst case, if the device's OS detects abuse of this 30 seconds of work, your silent push notifications will just be ignore.</p><p>Once you're tested that Houston works, to send a silent push notification simply use the command line</p><pre><code>apn push “&lt;token&gt;” -c /path/to/apple_push_notification.pem -P "{\"aps\" : {\"content-available\" : 1},\"acme1\" : \"bar\",\"acme2\" : 42}"
</code></pre><p>Note the use of escape character <code>\</code> to allow JSON string formats.</p><p>In this example above any device targeted by <code>&lt;token&gt;</code> will wake up and received the payload</p><pre><code>"acme1": "bar",
"acme2": 42
</code></pre><p>Happy pushing.</p><h3>Addendum</h3><ul><li>To generate a pemfile, it is recommended to use <a href="https://fastlane.tools/pem">fastlane pem</a> , which completely automates the process of creating the certificate.</li><li>Make sure your app allows background updates and can receive pushes. <a href="https://www.raywenderlich.com/8164-push-notifications-tutorial-getting-started">Push tutorial</a></li></ul></div><span>Tagged with: </span></article></div></body></html>